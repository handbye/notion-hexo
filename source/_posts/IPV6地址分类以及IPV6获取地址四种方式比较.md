---
permalink: 2016/12/13/IPV6-address-IPV6-get-address-method
tags:
  - IPV6
layout: post
date: '2016-12-13 08:00:00'
categories:
  - 路由交换
  - ipv6
home_cover: ''
title: IPV6地址分类以及IPV6获取地址四种方式比较
---

## IPV6地址分类


IPv6 单播地址的类型可有多种，包括全球单播地址、链路本地地址和站点本地地址等。

- 全球单播地址等同于 IPv4 公网地址，提供给网络服务提供商。这种类型的地址允许路由前缀的聚合，从而限制了全球路由表项的数量。
- 链路本地地址用于邻居发现协议和无状态自动配置中链路本地上节点之间的通信。使用链路本地地址作为源或目的地址的数据报文不会被转发到其他链路上。
- 站点本地地址与 IPv4 中的私有地址类似。使用站点本地地址作为源或目的地、址的数据报文不会被转发到本站点（相当于一个私有网络）外的其它站点。
- 环回地址：单播地址 0:0:0:0:0:0:0:1（简化表示为::1）称为环回地址，不能分配给任何物理接口。它的作用与在IPv4 中的环回地址相同，即节点用来给自己发送IPv6 报文。
- 未指定地址：地址“::”称为未指定地址，不能分配给任何节点。在节点获得有效的IPv6 地址之前，可在发送的IPv6 报文的源地址字段填入该地址，但不能作为IPv6 报文中的目的地址。

### 特殊IPV6组播地址


[http://blog.sina.com.cn/s/blog_8ff4e74b0106d0bh.html](http://blog.sina.com.cn/s/blog_8ff4e74b0106d0bh.html)


注意：IPV6地址中没有了广播地址，广播地址的功能由组播地址来实现。


## IPV6地址获取的四种方式


1.手工配置：此方法配置和IPV4的配置方法相同，在IPV6中主要是一些重要的服务器或路由器接口等需要用此方法来配置。


2.无状态自动获取：此方法要借助ICMPv6报文来实现，具体过程如下：


(1) 节点启动时，通过RS 消息向路由器发出请求，请求前缀和其他配置信息，以便用于节点的配置。


(2) 路由器返回RA 消息，其中包括前缀信息选项（路由器也会周期性地发布RA消息）。


(3) 节点利用路由器返回的RA 消息中的地址前缀及其他配置参数，自动配置接口的IPv6 地址及其他信息。


3.通过EUI-64来自动生成PV6地址：


目前IPv6 单播地址基本上都要求接口标识符为64 位。IEEE EUI-64 格式的接口标识符是从接口的链路层地址（MAC 地址）变化而来的。IPv6 地址中的接口标识符是64 位，而MAC地址是48 位，因此需要在MAC 地址的中间位置（从高位开始的第24 位后）插入十六进制数FFFE（1111111111111110）。为了确保这个从MAC 地址得到的接口标识符是唯一的，还要将Universal/Local (U/L)位（从高位开始的第7 位）设置为“1”。最后得到的这组数就作为EUI-64 格式的接口标识符。


4.通过DHCPV6来获取地址：此方法由DHCPV6服务器实现，具体过程请关注后续文章。


## 比较


手工配置方式较为简单，适用于个别地址的配置，无状态自动获取主要是ipv6网络中的主机通过此方式获取地址来访问互联网。EUI-64方式适用于路由器接口来自动生成link-local地址。


与其他 IPv6 地址分配方式（手工配置、通过路由器公告消息中的网络前缀无状态自动配置等）相比，DHCPv6 具有以下优点：

- 不仅可以分配 IPv6 地址，还可以分配IPv6 前缀，便于全网络的自动配置和管理。
- 更好地控制地址的分配。通过DHCPv6 不仅可以记录为主机分配的地址/前缀，还可以为特定主机分配特定的地址/前缀，以便于网络管理。
- 除了 IPv6 前缀、IPv6 地址外，还可以为主机分配DNS 服务器、域名等网络配置参数。
